{% extends "artigos_base.html" %}
{% load staticfiles%}
{% load hitcount_tags %}

{% block content %}

<div class="artigo">
  <p>Total de artigos: {{ n_artigos }} </p>
  <p>Total de hits em 24 horas: {{ hits_dia }}</p>
  <p>Total de hits em uma semana: {{ hits_semana }}</p>
  <p>Total de hits em um mês: {{ hits_mes }}</p>
</div>

{% for artigo in artigo_list %}
    <div class="artigo">
      <h2><a href="{% url 'detalhe_artigo' pk=artigo.pk %}">{{ artigo.titulo }}</a></h2>
      <p>{{ artigo.introducao|truncatechars:200 }}</p>
      <dl class="dl-horizontal">
        <dt>Hits Totais:</dt>
        <dd>{% get_hit_count for artigo %}</dd>
        <dt>Hits nos últimos 7 dias:</dt>
        <dd>{% get_hit_count for artigo within "days=7" %}</dd>
        <dt>Hits nas últimas 24 horas:</dt>
        <dd>{% get_hit_count for artigo within "days=1" %}</dd>
      </dl>
    </div>
{% endfor %}

{% endblock %}

{% block sidebar %}
<nav class="col-sm-2" style="padding-bottom:20px">

</nav>
{% endblock %}
